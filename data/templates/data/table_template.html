<table class="table">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Ursache</th>
      <th scope="col">Verfügbarkeit</th>
      <th scope="col">Herkunftsort</th>
      <th scope="col">Entnahmedatum</th>
      <th scope="col">Eingangsdatum</th>
      <th scope="col">Bruchgeschehen</th>
      <th scope="col">Nutzungsdauer</th>
      <th scope="col">Reinigung</th>
      <th scope="col">Aktion</th>
    </tr>
  </thead>
  <tbody>
        {% for explant in data %}
            <tr class="table-row">
                <td>{{ explant.id }}</td>
                <td>{{ explant.ursache }}</td>
                <td>{{ explant.verfuegbarkeit }}</td>
                <td>{{ explant.herkunftsort }}</td>
                <td>{{ explant.entnahme_datum }}</td>
                <td>{{ explant.eingang_datum }}</td>
                <td>{{ explant.bruchgeschehen }}</td>
                <td>{{ explant.nutzungsdauer }}</td>
                <td>{{ explant.reinigung }}</td>
                <td>
                    <i class="trigger-cell"></i>
                    <i class="bi bi-pencil-square"></i>
                    <i class="bi bi-trash3"></i>
                </td>
                </tr>
                <tr class="extended-row d-none">
                <td colspan="11">
                    <div class="extended-content">
                        <div class="row">
                            <div class="col-md-3">
                            <!-- Extended content goes here -->
                                <ul class="list-group">
                                    <li class="list-group-item">Bild: {{ explant.bild }}</li>
                                </ul>
                            </div>
                            <div class="col-md-3">
                                {% url 'lagerort_update' explant.lagerort.pk as update_url %}
                                <!-- Extended content goes here -->
                                <ul class="list-group">
                                    <li class="list-group-item list-group-item-secondary d-flex justify-content-between align-items-center">
                                        Lagerort
                                        <!-- Button trigger modal -->
                                        <button type="button" class="btn btn-outline-secondary btn-sm me-md-2" data-bs-toggle="modal" data-bs-target="#lagerortModal{{ explant.id }}">Update</button>
                                    </li>
                                    <li class="list-group-item">
                                    Schrank: {{ explant.lagerort.schrank }}
                                    </li>
                                    <li class="list-group-item">
                                    Kiste: {{ explant.lagerort.kiste }}
                                    </li>
                                </ul>
                                <!-- Modal -->
                                {% include 'data/modal_template.html' with
                                    modal_id="lagerortModal{{ explant.id }}" 
                                    modal_label_id="lagerortModalLabel{{ explant.id }}" 
                                    modal_title="Update Lagerort"
                                    modal_title_id="exampleModalLabel"
                                    update_url=update_url
                                    modal_content="
                                        <div class='form-group'>
                                            <label for='schrank'>Schrank:</label>
                                            <input type='number' class='form-control' id='schrank' name='schrank' value='{{ explant.lagerort.schrank }}'>
                                        </div>
                                        <div class='form-group'>
                                            <label for='kiste'>Kiste:</label>
                                            <input type='number' class='form-control' id='kiste' name='kiste' value='{{ explant.lagerort.kiste }}'>
                                        </div>
                                    "
                                %}
                            </div>
                            <div class="col-md-3">
                                <ul class="list-group">
                                    <li class="list-group-item list-group-item-secondary d-flex justify-content-between align-items-center">
                                        Patient
                                        <button type="button" class="btn btn-outline-secondary btn-sm me-md-2" data-bs-toggle="modal" data-bs-target="#patientModal{{ explant.id }}">Update</button>
                                    </li>
                                    <li class="list-group-item">
                                        Geburtsdatum: {{ explant.patient.geburtsdatum }}
                                    </li>
                                    <li class="list-group-item">
                                        Gewicht: {{ explant.patient.gewicht }} kg
                                    </li>
                                </ul>
                                <!-- Modal Test v2 -->
                                <!-- {% include 'data/modal_template.html' with
                                    modal_id="patientModal{{ explant.id }}" 
                                    modal_label_id="patientModalLabel{{ explant.id }}" 
                                    modal_title="Update Patient"
                                    modal_title_id="exampleModalLabel"
                                    update_url="{% url 'patient_update' explant.patient.pk %}"
                                    modal_content="
                                        <div class='form-group'>
                                            <label for='geburtsdatum'>Geburtsdatum:</label>
                                            <input type='date' class='form-control' id='geburtsdatum' name='geburtsdatum' value='{{ explant.patient.geburtsdatum }}'>
                                        </div>
                                        <div class='form-group'>
                                            <label for='gewicht'>Gewicht:</label>
                                            <input type='number' class='form-control' id='gewicht' name='gewicht' value='{{ explant.patient.gewicht }}'>
                                        </div>
                                    "
                                %} -->

                                <div class="modal fade" id="patientModal{{ explant.id }}" tabindex="-1" aria-labelledby="patientModalLabel{{ explant.id }}" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered">
                                      <div class="modal-content">
                                        <!-- Update Form ... -->
                                        <form id="update-form" method="post" action="{% url 'patient_update' explant.patient.pk %}">
                                          {% csrf_token %}
                                          <div class="modal-header">
                                            <h1 class="modal-title fs-5" id="exampleModalLabel">Update Patient</h1>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                          </div>
                                          <div class="modal-body">
                                            <div id="alert-container"></div>
                                                <!-- Forms -->
                                                <div class='form-group'>
                                                    <label for='geburtsdatum'>Geburtsdatum:</label>
                                                    <input type='date' class='form-control' id='geburtsdatum' name='geburtsdatum' value='{{ explant.patient.geburtsdatum }}'>
                                                </div>
                                                <div class='form-group'>
                                                    <label for='gewicht'>Gewicht:</label>
                                                    <input type='number' class='form-control' id='gewicht' name='gewicht' value='{{ explant.patient.gewicht }}'>
                                                </div>
                                          </div>
                                          <div class="modal-footer">
                                            <button type="submit" class="btn btn-outline-primary">Update</button>
                                          </div>
                                        </form>
                                      </div>
                                    </div>
                                  </div>
                            </div>
                            <div class="col-md-3">
                                <ul class="list-group">
                                    <li class="list-group-item list-group-item-secondary d-flex justify-content-between align-items-center">
                                        Reoperation
                                    <button type="button" class="btn btn-outline-secondary btn-sm me-md-2" data-bs-toggle="modal" data-bs-target="#reoperationModal{{ explant.id }}">Update</button>
                                    </li>
                                    <li class="list-group-item">
                                        Reoperation: {{ explant.reoperation.reoperation }}
                                    </li>
                                    <li class="list-group-item">
                                        Datum: {{ explant.reoperation.reoperation_datum }}
                                    </li>
                                </ul>
                                <!-- Modal -->
                                {% include 'data/modal_template.html' with
                                    modal_id="reoperationModal{{ explant.id }}" 
                                    modal_label_id="reoperationModalLabel{{ explant.id }}" 
                                    modal_title="Update Reoperation"
                                    modal_title_id="exampleModalLabel"
                                    update_url="{% url 'reoperation_update' explant.reoperation.pk %}"
                                    modal_content="
                                        <div class='form-group'>
                                            <label for='reoperation'>Reoperation:</label>
                                            <input type='' class='form-control' id='reoperation' name='reoperation' value='{{ explant.reoperation.reoperation }}'>
                                        </div>
                                        <div class='form-group'>
                                            <label for='reoperation_datum'>Datum:</label>
                                            <input type='number' class='form-control' id='reoperation_datum' name='reoperation_datum' value='{{ explant.reoperation.reoperation_datum }}'>
                                        </div>
                                    "
                                %}
                            </div>
                            <div class="col-md-3 mt-3">
                                <ul class="list-group">
                                    <li class="list-group-item list-group-item-secondary d-flex justify-content-between align-items-center">
                                        Inlay
                                        <button type="button" class="btn btn-outline-secondary btn-sm me-md-2" data-bs-toggle="modal" data-bs-target="#inlayModal{{ explant.id }}">Update</button>
                                    </li>
                                    <li class="list-group-item">
                                        Hersteller: {{ explant.inlay.hersteller }}
                                    </li>
                                    <li class="list-group-item">
                                        Modell: {{ explant.inlay.modell }}
                                    </li>
                                    <li class="list-group-item">
                                        Material: {{ explant.inlay.material }}
                                    </li>
                                    <li class="list-group-item">
                                        Größe: {{ explant.inlay.groeße }} mm
                                    </li>
                                </ul>
                                <!-- Modal -->
                                {% include 'data/modal_template.html' with
                                    modal_id="inlayModal{{ explant.id }}" 
                                    modal_label_id="inlayModalLabel{{ explant.id }}" 
                                    modal_title="Update Inlay"
                                    modal_title_id="exampleModalLabel"
                                    update_url="{% url 'inlay_update' explant.inlay.pk %}"
                                    modal_content="
                                        <div class='form-group'>
                                            <label for='hersteller'>Hersteller:</label>
                                            <input type='text' class='form-control' id='hersteller' name='hersteller' value='{{ explant.inlay.hersteller }}'>
                                        </div>
                                        <div class='form-group'>
                                            <label for='modell'>Modell:</label>
                                            <input type='text' class='form-control' id='modell' name='modell' value='{{ explant.inlay.modell }}'>
                                        </div>
                                        <div class='form-group'>
                                            <label for='material'>Material:</label>
                                            <input type='text' class='form-control' id='material' name='material' value='{{ explant.inlay.material }}'>
                                        </div>
                                        <div class='form-group'>
                                            <label for='groeße'>Größe:</label>
                                            <input type='number' class='form-control' id='groeße' name='groeße' value='{{ explant.inlay.groeße }}'>
                                        </div>
                                    "
                                %}
                            </div>
                            {% if is_huefte %}
                                <div class="col-md-3 mt-3">
                                    <ul class="list-group">
                                        <li class="list-group-item list-group-item-secondary d-flex justify-content-between align-items-center">
                                            Kopf
                                            <button type="button" class="btn btn-outline-secondary btn-sm me-md-2" data-bs-toggle="modal" data-bs-target="#kopfModal{{ explant.id }}">Update</button>
                                        </li>
                                        <li class="list-group-item">
                                            Hersteller: {{ explant.kopf.hersteller }}
                                        </li>
                                        <li class="list-group-item">
                                            Modell: {{ explant.kopf.modell }}
                                        </li>
                                        <li class="list-group-item">
                                            Material: {{ explant.kopf.material }}
                                        </li>
                                        <li class="list-group-item">
                                            Größe: {{ explant.kopf.groeße }} mm
                                        </li>
                                    </ul>
                                    <!-- Modal -->
                                    {% include 'data/modal_template.html' with
                                        modal_id="kopfModal{{ explant.id }}" 
                                        modal_label_id="kopftModalLabel{{ explant.id }}" 
                                        modal_title="Update Kopf"
                                        modal_title_id="exampleModalLabel"
                                        update_url="{% url 'kopf_update' explant.kopf.pk %}"
                                        modal_content="
                                            <div class='form-group'>
                                                <label for='hersteller'>Hersteller:</label>
                                                <input type='text' class='form-control' id='hersteller' name='hersteller' value='{{ explant.kopf.hersteller }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='modell'>Modell:</label>
                                                <input type='text' class='form-control' id='modell' name='modell' value='{{ explant.kopf.modell }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='material'>Material:</label>
                                                <input type='text' class='form-control' id='material' name='material' value='{{ explant.kopf.material }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='groeße'>Größe:</label>
                                                <input type='number' class='form-control' id='groeße' name='groeße' value='{{ explant.kopf.groeße }}'>
                                            </div>
                                        "
                                    %}
                                </div>
                            {% else %}
                                <div class="col-md-3 mt-3">
                                    <ul class="list-group">
                                        <li class="list-group-item list-group-item-secondary d-flex justify-content-between align-items-center">
                                            Femurkomponente
                                            <button type="button" class="btn btn-outline-secondary btn-sm me-md-2" data-bs-toggle="modal" data-bs-target="#femurkomponenteModal{{ explant.id }}">Update</button>
                                        </li>
                                        <li class="list-group-item">
                                            Hersteller: {{ explant.femurkomponente.hersteller }}
                                        </li>
                                        <li class="list-group-item">
                                            Modell: {{ explant.femurkomponente.modell }}
                                        </li>
                                        <li class="list-group-item">
                                            Material: {{ explant.femurkomponente.material }}
                                        </li>
                                        <li class="list-group-item">
                                            Größe: {{ explant.femurkomponente.groeße }} mm
                                        </li>
                                    </ul>
                                    <!-- Modal -->
                                    {% include 'data/modal_template.html' with
                                        modal_id="femurkomponenteModal{{ explant.id }}" 
                                        modal_label_id="femurkomponenteModalLabel{{ explant.id }}" 
                                        modal_title="Update Femurkomponente"
                                        modal_title_id="exampleModalLabel"
                                        update_url="{% url 'femurkomponente_update' explant.femurkomponente.pk %}"
                                        modal_content="
                                            <div class='form-group'>
                                                <label for='hersteller'>Hersteller:</label>
                                                <input type='text' class='form-control' id='hersteller' name='hersteller' value='{{ explant.femurkomponente.hersteller }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='modell'>Modell:</label>
                                                <input type='text' class='form-control' id='modell' name='modell' value='{{ explant.femurkomponente.modell }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='material'>Material:</label>
                                                <input type='text' class='form-control' id='material' name='material' value='{{ explant.femurkomponente.material }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='groeße'>Größe:</label>
                                                <input type='number' class='form-control' id='groeße' name='groeße' value='{{ explant.femurkomponente.groeße }}'>
                                            </div>
                                        "
                                    %}
                                </div>
                            {% endif %}
                            {% if is_huefte %}
                                <div class="col-md-3 mt-3">
                                    <ul class="list-group">
                                        <li class="list-group-item list-group-item-secondary d-flex justify-content-between align-items-center">
                                            Schaft
                                            <button type="button" class="btn btn-outline-secondary btn-sm me-md-2" data-bs-toggle="modal" data-bs-target="#schaftModal{{ explant.id }}">Update</button>
                                        </li>
                                        <li class="list-group-item">
                                            Hersteller: {{ explant.schaft.hersteller }}
                                        </li>
                                        <li class="list-group-item">
                                            Modell: {{ explant.schaft.modell }}
                                        </li>
                                        <li class="list-group-item">
                                            Material: {{ explant.schaft.material }}
                                        </li>
                                        <li class="list-group-item">
                                            Größe: {{ explant.schaft.groeße }} mm
                                        </li>
                                    </ul>
                                    <!-- Modal -->
                                    {% include 'data/modal_template.html' with
                                        modal_id="schaftModal{{ explant.id }}"
                                        modal_label_id="schaftModalLabel{{ explant.id }}" 
                                        modal_title="Update Schaft"
                                        modal_title_id="exampleModalLabel"
                                        update_url="{% url 'schaft_update' explant.schaft.pk %}"
                                        modal_content="
                                            <div class='form-group'>
                                                <label for='hersteller'>Hersteller:</label>
                                                <input type='text' class='form-control' id='hersteller' name='hersteller' value='{{ explant.schaft.hersteller }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='modell'>Modell:</label>
                                                <input type='text' class='form-control' id='modell' name='modell' value='{{ explant.schaft.modell }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='material'>Material:</label>
                                                <input type='text' class='form-control' id='material' name='material' value='{{ explant.schaft.material }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='groeße'>Größe:</label>
                                                <input type='number' class='form-control' id='groeße' name='groeße' value='{{ explant.schaft.groeße }}'>
                                            </div>
                                        "
                                    %}
                                </div>
                            {% else %}
                                <div class="col-md-3 mt-3">
                                    <ul class="list-group">
                                        <li class="list-group-item list-group-item-secondary d-flex justify-content-between align-items-center">
                                            Tibiaplateau
                                            <button type="button" class="btn btn-outline-secondary btn-sm me-md-2" data-bs-toggle="modal" data-bs-target="#tibiaplateauModal{{ explant.id }}">Update</button>
                                        </li>
                                        <li class="list-group-item">
                                            Hersteller: {{ explant.tibiaplateau.hersteller }}
                                        </li>
                                        <li class="list-group-item">
                                            Modell: {{ explant.tibiaplateau.modell }}
                                        </li>
                                        <li class="list-group-item">
                                            Material: {{ explant.tibiaplateau.material }}
                                        </li>
                                        <li class="list-group-item">
                                            Größe: {{ explant.tibiaplateau.groeße }} mm
                                        </li>
                                    </ul>
                                    <!-- Modal -->
                                    {% include 'data/modal_template.html' with
                                        modal_id="tibiaplateauModal{{ explant.id }}" 
                                        modal_label_id="tibiaplateauModalLabel{{ explant.id }}"
                                        modal_title="Update Tibiaplateau"
                                        modal_title_id="exampleModalLabel"
                                        update_url="{% url 'tibiaplateau_update' explant.tibiaplateau.pk %}"
                                        modal_content="
                                            <div class='form-group'>
                                                <label for='hersteller'>Hersteller:</label>
                                                <input type='text' class='form-control' id='hersteller' name='hersteller' value='{{ explant.tibiaplateau.hersteller }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='modell'>Modell:</label>
                                                <input type='text' class='form-control' id='modell' name='modell' value='{{ explant.tibiaplateau.modell }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='material'>Material:</label>
                                                <input type='text' class='form-control' id='material' name='material' value='{{ explant.tibiaplateau.material }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='groeße'>Größe:</label>
                                                <input type='number' class='form-control' id='groeße' name='groeße' value='{{ explant.tibiaplateau.groeße }}'>
                                            </div>
                                        "
                                    %}
                                </div>
                            {% endif %}
                            {% if is_huefte %}
                                <div class="col-md-3 mt-3">
                                    <ul class="list-group">
                                        <li class="list-group-item list-group-item-secondary d-flex justify-content-between align-items-center">
                                            Pfanne
                                            <button type="button" class="btn btn-outline-secondary btn-sm me-md-2" data-bs-toggle="modal" data-bs-target="#pfanneModal{{ explant.id }}">Update</button>
                                        </li>
                                        <li class="list-group-item">
                                            Hersteller: {{ explant.pfanne.hersteller }}
                                        </li>
                                        <li class="list-group-item">
                                            Modell: {{ explant.pfanne.modell }}
                                        </li>
                                        <li class="list-group-item">
                                            Material: {{ explant.pfanne.material }}
                                        </li>
                                        <li class="list-group-item">
                                            Größe: {{ explant.pfanne.groeße }} mm
                                        </li>
                                    </ul>
                                    <!-- Modal -->
                                    {% include 'data/modal_template.html' with
                                        modal_id="pfanneModal{{ explant.id }}" 
                                        modal_label_id="pfanneModalLabel{{ explant.id }}" 
                                        modal_title="Update Pfanne"
                                        modal_title_id="exampleModalLabel"
                                        update_url="{% url 'pfanne_update' explant.pfanne.pk %}"
                                        modal_content="
                                            <div class='form-group'>
                                                <label for='hersteller'>Hersteller:</label>
                                                <input type='text' class='form-control' id='hersteller' name='hersteller' value='{{ explant.pfanne.hersteller }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='modell'>Modell:</label>
                                                <input type='text' class='form-control' id='modell' name='modell' value='{{ explant.pfanne.modell }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='material'>Material:</label>
                                                <input type='text' class='form-control' id='material' name='material' value='{{ explant.pfanne.material }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='groeße'>Größe:</label>
                                                <input type='number' class='form-control' id='groeße' name='groeße' value='{{ explant.pfanne.groeße }}'>
                                            </div>
                                        "
                                    %}
                                </div>
                            {% else %}
                                <div class="col-md-3 mt-3">
                                    <ul class="list-group">
                                        <li class="list-group-item list-group-item-secondary d-flex justify-content-between align-items-center">
                                            Patellaersatz
                                            <button type="button" class="btn btn-outline-secondary btn-sm me-md-2" data-bs-toggle="modal" data-bs-target="#patellaersatzModal{{ explant.id }}">Update</button>
                                        </li>
                                        <li class="list-group-item">
                                            Hersteller: {{ explant.patellaersatz.hersteller }}
                                        </li>
                                        <li class="list-group-item">
                                            Modell: {{ explant.patellaersatz.modell }}
                                        </li>
                                        <li class="list-group-item">
                                            Material: {{ explant.patellaersatz.material }}
                                        </li>
                                        <li class="list-group-item">
                                            Größe: {{ explant.patellaersatz.groeße }} mm
                                        </li>
                                    </ul>
                                    <!-- Modal -->
                                    {% include 'data/modal_template.html' with
                                        modal_id="patellaersatzModal{{ explant.id }}" 
                                        modal_label_id="patellaersatzModalLabel{{ explant.id }}" 
                                        modal_title="Update Patellaersatz"
                                        modal_title_id="exampleModalLabel"
                                        update_url="{% url 'patellaersatz_update' explant.patellaersatz.pk %}"
                                        modal_content="
                                            <div class='form-group'>
                                                <label for='hersteller'>Hersteller:</label>
                                                <input type='text' class='form-control' id='hersteller' name='hersteller' value='{{ explant.patellaersatz.hersteller }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='modell'>Modell:</label>
                                                <input type='text' class='form-control' id='modell' name='modell' value='{{ explant.patellaersatz.modell }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='material'>Material:</label>
                                                <input type='text' class='form-control' id='material' name='material' value='{{ explant.patellaersatz.material }}'>
                                            </div>
                                            <div class='form-group'>
                                                <label for='groeße'>Größe:</label>
                                                <input type='number' class='form-control' id='groeße' name='groeße' value='{{ explant.patellaersatz.groeße }}'>
                                            </div>
                                        "
                                    %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>